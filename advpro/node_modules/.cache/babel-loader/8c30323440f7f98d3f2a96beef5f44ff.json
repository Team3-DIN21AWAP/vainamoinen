{"ast":null,"code":"import _slicedToArray from\"D:/vainamoinen/advpro/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";//import ReactDOM from \"react-dom\";\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){// React States\nvar _useState=useState({}),_useState2=_slicedToArray(_useState,2),errorMessages=_useState2[0],setErrorMessages=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isSubmitted=_useState4[0],setIsSubmitted=_useState4[1];// User Login  test info\nvar database=[{username:\"user1\",password:\"pass1\"},{username:\"user2\",password:\"pass2\"}];var errors={uname:\"invalid username\",pass:\"invalid password\"};var handleSubmit=function handleSubmit(event){//Prevent page reload\nevent.preventDefault();var _document$forms$=document.forms[0],uname=_document$forms$.uname,pass=_document$forms$.pass;// Find user login info\nvar userData=database.find(function(user){return user.username===uname.value;});// Compare user info\nif(userData){if(userData.password!==pass.value){// Invalid password\nsetErrorMessages({name:\"pass\",message:errors.pass});}else{setIsSubmitted(true);}}else{// Username not found\nsetErrorMessages({name:\"uname\",message:errors.uname});}};// Generate JSX code for error message\nvar renderErrorMessage=function renderErrorMessage(name){return name===errorMessages.name&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:errorMessages.message});};// login form\nvar renderForm=/*#__PURE__*/_jsx(\"div\",{className:\"form\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"uname\",required:true}),renderErrorMessage(\"uname\")]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password \"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"pass\",required:true}),renderErrorMessage(\"pass\")]}),/*#__PURE__*/_jsx(\"div\",{className:\"button-container\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\"})})]})});return/*#__PURE__*/_jsx(\"div\",{className:\"app\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-form\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:\"Sign In\"}),isSubmitted?/*#__PURE__*/_jsx(\"div\",{children:\"User is successfully logged in\"}):renderForm]})});};export default Login;","map":{"version":3,"names":["React","useState","Login","errorMessages","setErrorMessages","isSubmitted","setIsSubmitted","database","username","password","errors","uname","pass","handleSubmit","event","preventDefault","document","forms","userData","find","user","value","name","message","renderErrorMessage","renderForm"],"sources":["D:/vainamoinen/advpro/src/components/login.js"],"sourcesContent":["import React, { useState } from \"react\";\r\n//import ReactDOM from \"react-dom\";\r\n  \r\n  const Login = () => {\r\n      // React States\r\n  const [errorMessages, setErrorMessages] = useState({});\r\n  const [isSubmitted, setIsSubmitted] = useState(false);\r\n\r\n  // User Login  test info\r\n  const database = [\r\n    {\r\n      username: \"user1\",\r\n      password: \"pass1\"\r\n    },\r\n    {\r\n      username: \"user2\",\r\n      password: \"pass2\"\r\n    }\r\n  ];\r\n\r\n  const errors = {\r\n    uname: \"invalid username\",\r\n    pass: \"invalid password\"\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    //Prevent page reload\r\n    event.preventDefault();\r\n\r\n    var { uname, pass } = document.forms[0];\r\n\r\n    // Find user login info\r\n    const userData = database.find((user) => user.username === uname.value);\r\n\r\n    // Compare user info\r\n    if (userData) {\r\n      if (userData.password !== pass.value) {\r\n        // Invalid password\r\n        setErrorMessages({ name: \"pass\", message: errors.pass });\r\n      } else {\r\n        setIsSubmitted(true);\r\n      }\r\n    } else {\r\n      // Username not found\r\n      setErrorMessages({ name: \"uname\", message: errors.uname });\r\n    }\r\n  };\r\n\r\n  // Generate JSX code for error message\r\n  const renderErrorMessage = (name) =>\r\n    name === errorMessages.name && (\r\n      <div className=\"error\">{errorMessages.message}</div>\r\n    );\r\n\r\n  // login form\r\n  const renderForm = (\r\n    <div className=\"form\">\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"input-container\">\r\n          <label>Username </label>\r\n          <input type=\"text\" name=\"uname\" required />\r\n          {renderErrorMessage(\"uname\")}\r\n        </div>\r\n        <div className=\"input-container\">\r\n          <label>Password </label>\r\n          <input type=\"password\" name=\"pass\" required />\r\n          {renderErrorMessage(\"pass\")}\r\n        </div>\r\n        <div className=\"button-container\">\r\n          <input type=\"submit\" />\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <div className=\"login-form\">\r\n        <div className=\"title\">Sign In</div>\r\n        {isSubmitted ? <div>User is successfully logged in</div> : renderForm}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n    \r\n  export default Login;"],"mappings":"2GAAA,MAAOA,MAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC;AAAA,wFAEE,GAAMC,MAAK,CAAG,QAARA,MAAK,EAAS,CAChB;AACJ,cAA0CD,QAAQ,CAAC,CAAC,CAAC,CAAC,wCAA/CE,aAAa,eAAEC,gBAAgB,eACtC,eAAsCH,QAAQ,CAAC,KAAK,CAAC,yCAA9CI,WAAW,eAAEC,cAAc,eAElC;AACA,GAAMC,SAAQ,CAAG,CACf,CACEC,QAAQ,CAAE,OAAO,CACjBC,QAAQ,CAAE,OACZ,CAAC,CACD,CACED,QAAQ,CAAE,OAAO,CACjBC,QAAQ,CAAE,OACZ,CAAC,CACF,CAED,GAAMC,OAAM,CAAG,CACbC,KAAK,CAAE,kBAAkB,CACzBC,IAAI,CAAE,kBACR,CAAC,CAED,GAAMC,aAAY,CAAG,QAAfA,aAAY,CAAIC,KAAK,CAAK,CAC9B;AACAA,KAAK,CAACC,cAAc,EAAE,CAEtB,qBAAsBC,QAAQ,CAACC,KAAK,CAAC,CAAC,CAAC,CAAjCN,KAAK,kBAALA,KAAK,CAAEC,IAAI,kBAAJA,IAAI,CAEjB;AACA,GAAMM,SAAQ,CAAGX,QAAQ,CAACY,IAAI,CAAC,SAACC,IAAI,QAAKA,KAAI,CAACZ,QAAQ,GAAKG,KAAK,CAACU,KAAK,GAAC,CAEvE;AACA,GAAIH,QAAQ,CAAE,CACZ,GAAIA,QAAQ,CAACT,QAAQ,GAAKG,IAAI,CAACS,KAAK,CAAE,CACpC;AACAjB,gBAAgB,CAAC,CAAEkB,IAAI,CAAE,MAAM,CAAEC,OAAO,CAAEb,MAAM,CAACE,IAAK,CAAC,CAAC,CAC1D,CAAC,IAAM,CACLN,cAAc,CAAC,IAAI,CAAC,CACtB,CACF,CAAC,IAAM,CACL;AACAF,gBAAgB,CAAC,CAAEkB,IAAI,CAAE,OAAO,CAAEC,OAAO,CAAEb,MAAM,CAACC,KAAM,CAAC,CAAC,CAC5D,CACF,CAAC,CAED;AACA,GAAMa,mBAAkB,CAAG,QAArBA,mBAAkB,CAAIF,IAAI,QAC9BA,KAAI,GAAKnB,aAAa,CAACmB,IAAI,eACzB,YAAK,SAAS,CAAC,OAAO,UAAEnB,aAAa,CAACoB,OAAO,EAC9C,GAEH;AACA,GAAME,WAAU,cACd,YAAK,SAAS,CAAC,MAAM,uBACnB,cAAM,QAAQ,CAAEZ,YAAa,wBAC3B,aAAK,SAAS,CAAC,iBAAiB,wBAC9B,oCAAwB,cACxB,cAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,OAAG,CAC1CW,kBAAkB,CAAC,OAAO,CAAC,GACxB,cACN,aAAK,SAAS,CAAC,iBAAiB,wBAC9B,oCAAwB,cACxB,cAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,OAAG,CAC7CA,kBAAkB,CAAC,MAAM,CAAC,GACvB,cACN,YAAK,SAAS,CAAC,kBAAkB,uBAC/B,cAAO,IAAI,CAAC,QAAQ,EAAG,EACnB,GACD,EAEV,CAED,mBACE,YAAK,SAAS,CAAC,KAAK,uBAClB,aAAK,SAAS,CAAC,YAAY,wBACzB,YAAK,SAAS,CAAC,OAAO,qBAAc,CACnCnB,WAAW,cAAG,uDAAyC,CAAGoB,UAAU,GACjE,EACF,CAEV,CAAC,CAEC,cAAevB,MAAK"},"metadata":{},"sourceType":"module"}